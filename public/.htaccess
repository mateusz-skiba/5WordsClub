RewriteEngine On

# Force HTTPS for all traffic
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Internally rewrite /thankyou to thankyou.html
RewriteRule ^thankyou/?$ /thankyou.html [L]

# Redirect /pl (without slash) to /pl/
RewriteCond %{REQUEST_URI} ^/pl$
RewriteRule (.*) /pl/ [R=301,L]

# Redirect requests for index-pl.html to /pl/
RewriteCond %{THE_REQUEST} /index-pl\.html [NC]
RewriteRule ^index-pl\.html$ /pl/ [R=301,L]

# Internally rewrite /pl/ to index-pl.html
RewriteRule ^pl/$ /index-pl.html [L]

# Internally rewrite /pl/thankyou to thankyou-pl.html
RewriteRule ^pl/thankyou/?$ /thankyou-pl.html [L]

# Serve static assets for /pl/ URLs from root folder
RewriteCond %{REQUEST_URI} ^/pl/(assets|images|css|js|fonts)/(.*)$ [NC]
RewriteRule ^pl/(.*)$ /$1 [L,PT]

# Automatically load .php files for clean URLs (with or without trailing slash)
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*?)/?$ $1.php [L]

# Redundant: redirect /pl/index-pl.html to /pl/ again
RewriteCond %{THE_REQUEST} /index-pl\.html [NC]
RewriteRule ^pl/index-pl\.html$ /pl/ [R=301,L]

# PHP handler (auto-generated by cPanel â€” do not edit)
<IfModule mime_module>
  AddHandler application/x-httpd-ea-php82___lsphp .php .php8 .phtml
</IfModule>